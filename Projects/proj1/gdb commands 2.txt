set confirm off 
delete

define zx
undisp
disp *this
python for i in range(gdb.parse_and_eval('m_size')): gdb.execute("disp *m_cols[" + str(i) + "]");gdb.execute("disp *m_cols[" + str(i) + "].m_data@" + str(gdb.parse_and_eval('m_capacity')))
disp *m_colInfo@m_capacity*2+1
disp {square_dimension, colNumber}
disp {left, right}
end

py gdb.execute("b SortedSquareList.cpp:%s if size() > 4" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("Otherwise shift") in j][0]))
commands
silent
py gdb.execute("b SortedSquareList.cpp:%s" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("Shift right") in j][0]))
commands
silent
py gdb.execute("b SortedSquareList.cpp:%s" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("Update colinfo to keep track of list") in j][0]))
c
end
py gdb.execute("b SortedSquareList.cpp:%s" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("Shift left") in j][0]))
commands
silent
py gdb.execute("b SortedSquareList.cpp:%s" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("Update colinfo to keep track of list") in j][1]))
c
end
c
disp {add,*shift}
end



py gdb.execute("b SortedSquareList.cpp:%s if size() > 4" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if "If the current column is full and the data is higher than the highest value" in j][0]))


py gdb.execute("b SortedSquareList.cpp:%s if size() > 4" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("f the current column isn't full, add the element and update colInfo") in j][0]))


py gdb.execute("b SortedSquareList.cpp:%s if size() > 4" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if ("for (int i = colNumber; i >= 0 && shift != 0; i--) {") in j][0]))
commands
silent
disp {add,*shift}
c
end


b SortedSquareList::add(int) if size() > 4
commands
silent
zx
c
end

py gdb.execute("b SortedSquareList.cpp:%s if size() > 4" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if "if (!size())" in j][0]))
commands
silent
zx
c
end


# py gdb.execute("b SortedSquareList.cpp:%s if size() > 4" % str([i for i,j in enumerate(open("SortedSquareList.cpp")) if "double left" in j][0]))

tb main
commands
silent
call dup2(open("input.txt", 0), 0)
continue
end

define cv
source -s gdb commands.txt
end

r

